@model IEnumerable<TrabalhoMVC.Models.RegistroVenda>
@{
	ViewData["Title"] = "Busca Simples";
}

<h2>@ViewData["Title"]</h2>

<nav class="navbar navbar-inverse">
	<div class="container-fluid">
		<form class="navbar-form navbar-left" role="search">
			<div class="form-group">
				<div class="form-group">
					<label for="minDate">Data Min</label>
					<input type="date" class="form-control" name="minDate" value=@ViewData["minDate"] />
				</div>
				<div class="form-group">
					<label for="maxDate">Data Max</label>
					<input type="date" class="form-control" name="maxDate" value=@ViewData["maxDate"] />
				</div>
			</div>
			<button type="submit" class="btn btn-primary">Filtro</button>
		</form>
	</div>
</nav>
<div>
	<div>
		<h3>Total de Vendas = @Model.Sum(obj => obj.Quantia).ToString("F2")</h3>
	</div>
	<div>
		<table class="table table-striped table-hover">
			<thead>
				<tr class="bg-primary text-white">
					<th>
						@Html.DisplayNameFor(model => model.Id)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Data)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Vendedor)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Vendedor.Departamento)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Quantia)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Status)
					</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in Model) {
					<tr>
						<td>
							@Html.DisplayFor(modelItem => item.Id)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Data)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Vendedor.Nome)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Vendedor.Departamento.Nome)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Quantia)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Status)
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</div>